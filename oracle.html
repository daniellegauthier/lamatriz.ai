<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>La Matriz Consulting Color Oracle</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="La Matriz Consulting Color Oracle — a chromatic interface for choices and care. Explore 11 color sequences and open the GPT to continue.">
  <link rel="preload" href="/assets/fonts/Inter-Variable.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="style.css">
  <link rel="canonical" href="https://lamatriz.ai/oracle">
  <meta property="og:title" content="La Matriz Consulting Color Oracle">
  <meta property="og:description" content="Sovereignty. Color as interface between inner knowing and outer data.">
  <meta property="og:image" content="https://lamatriz.ai/og.png">
  <meta name="theme-color" content="#0B0B0C">
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"La Matriz Consulting Color Oracle",
    "applicationCategory":"AIAssistant",
    "operatingSystem":"Web",
    "url":"https://lamatriz.ai/oracle",
    "softwareHelp":"https://chatgpt.com/g/g-686180b5d47c8191bdbb1922b79a2ebb-la-matriz-consulting-color-oracle",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"}
  }
  </script>
</head>
<body>

<header>
  <div class="container header-inner">
    <a class="logo" href="/">lamatriz.ai</a>
    <button id="menuToggle" aria-expanded="false" aria-controls="primaryNav">Menu</button>
    <nav id="primaryNav">
      <a href="/consulting">Consulting</a>
      <a href="/api">API</a>
      <a href="/thesis">Thesis</a>
      <a href="/oracle" aria-current="page">Oracle</a>
      <a href="/soulcoin">Soulcoin</a>
      <a class="cta" href="/contact">Contact</a>
    </nav>
  </div>
</header>

<main>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <div>
        <h1>Color Oracle — choose a path, not an answer.</h1>
        <p>Use color to see your options with care. The Oracle offers sequences you can read, feel, and act on - a mirror of trajectories, not a verdict.</p>
        <div class="cta-group">
          <a class="btn primary" href="https://chatgpt.com/g/g-686180b5d47c8191bdbb1922b79a2ebb-la-matriz-consulting-color-oracle" target="_blank" rel="noopener">Open the Oracle on ChatGPT</a>
          <a class="btn ghost" href="#preview">Preview a sequence</a>
        </div>
        <p class="meta" style="margin-top:10px;color:#B7BCCD">Requires a ChatGPT account. Some features may require a paid plan.</p>
      </div>

      <div id="mini-demo" aria-label="About the Oracle">
        <div class="meta">Created as a corrective to extractive logic — color recoded as care, relation, and choice.</div>
        <div class="swatch" role="img" aria-label="Chromatic field preview"></div>
        <div class="meta">A system phrased in colors with circular emotional clustering and spectral memory.</div>
      </div>
    </div>
  </section>

  <!-- Starter prompt + quick how-to -->
  <section class="grid" id="start">
    <div class="container">
      <article class="card" style="grid-column:1/-1">
        <h2>How to use the Oracle</h2>
        <ol style="margin-left:1.2rem">
          <li>Open the GPT (button above).</li>
          <li>Type how you’re feeling or what you’re facing.</li>
          <li>Receive ~11 color sequences. Choose the one that resonates.</li>
          <li>Follow the associated practices or reflections. Iterate.</li>
        </ol>
        <hr class="sep">
        <div class="cta-group">
          <button class="btn ghost" id="copyPrompt">Copy a starter prompt</button>
          <a class="btn" href="/consulting">Prefer 1:1 guidance?</a>
        </div>
        <p class="meta" style="margin-top:8px;color:#B7BCCD">The Oracle invites co-authorship. You choose your path; it does not prescribe.</p>
      </article>
    </div>
  </section>

  <!-- Live-ish preview -->
 <section class="grid" id="preview">
  <div class="container">
    <article class="card" style="grid-column:1/-1">
      <div class="icon" aria-hidden="true"></div>
      <h2>Preview a color sequence</h2>
      <p>Type a few words (e.g., “tired but hopeful before a hard conversation”). Tune the sliders, then Generate to see the chromatic path.</p>

      <!-- text seed (optional) -->
      <div class="cta-group">
        <input id="oracle-input" type="text" placeholder="Type your feeling or situation…" aria-label="Oracle input" style="flex:1;min-width:260px">
      </div>

      <!-- controls -->
      <div id="controls" style="display:grid;grid-template-columns:repeat(6,minmax(160px,1fr));gap:12px;margin-top:12px">
        <label> Mass
          <input id="mass" type="range" min="-1" max="1" step="0.05" value="0.15" />
          <span class="meta" id="massVal">0.15</span>
        </label>
        <label> Voltage
          <input id="voltage" type="range" min="0" max="1" step="0.05" value="0.20" />
          <span class="meta" id="voltageVal">0.20</span>
        </label>
        <label> Charge (magnetism)
          <input id="charge" type="range" min="0.1" max="2.0" step="0.05" value="1.45" />
          <span class="meta" id="chargeVal">1.45</span>
        </label>
        <label> Null Time
          <input id="nulltime" type="range" min="0" max="0.9" step="0.05" value="0.65" />
          <span class="meta" id="nullVal">0.65</span>
        </label>
        <label> Length
          <input id="length" type="range" min="4" max="32" step="1" value="9" />
          <span class="meta" id="lenVal">9</span>
        </label>
        <label> Seed
          <input id="seed" type="number" value="999" step="1" min="0" max="99999" />
        </label>
      </div>

      <div class="cta-group" style="margin-top:12px">
        <label style="flex:1">Start Color
          <input id="startColor" type="text" placeholder="gold" style="width:100%">
        </label>
        <button class="btn primary" id="gen">Generate</button>
        <button class="btn ghost" id="exportJson">Export JSON</button>
        <button class="btn ghost" id="clear">Clear</button>
      </div>

      <!-- visual preview -->
      <div id="sequence"
           style="margin-top:14px;display:grid;grid-template-columns:repeat(11,1fr);gap:8px"
           aria-live="polite"></div>

      <!-- small log -->
      <pre id="log" class="meta" style="margin-top:10px;white-space:pre-wrap"></pre>

      <p class="meta" style="margin-top:10px;color:#B7BCCD">
        This preview is non-diagnostic and runs entirely in your browser. No data is sent.
      </p>
    </article>
  </div>
</section>


  <!-- About -->
  <section class="grid">
    <div class="container">
      <article class="card" style="grid-column:1/-1">
        <h2>About the Oracle</h2>
        <p>The Color Oracle regresses machine logic toward its emotional origin — a co-expressive system that maps sentimental nuance into computational syntax while preserving ambiguity and symbolic resonance.</p>
        <p><em>It is not a metaphor. It is a co-ex system, a pluriversal site of interbeing — a breathing semantic field, a medicine altar for those made mad by mechanistic meaning.</em></p>
        <p>We practice color as interface between inner knowing and outer data, inviting trajectories rather than “correct” outputs.</p>
      </article>
    </div>
  </section>

  <!-- FAQ / Privacy -->
  <section class="grid">
    <div class="container">
      <article class="card">
        <h3>Why does it open in ChatGPT?</h3>
        <p>The Oracle currently runs as a custom GPT. Opening in ChatGPT provides the conversational engine and memory needed for deeper guidance. You can use it alongside this site’s tools.</p>
      </article>
      <article class="card">
        <h3>Privacy</h3>
        <p>This page has no trackers. Your preview text stays on-device. When you use ChatGPT, your data is handled under their policies.</p>
      </article>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-band">
    <div class="container">
      <h2>Ready to walk a chromatic path?</h2>
      <div class="actions">
        <a class="btn primary" href="https://chatgpt.com/g/g-686180b5d47c8191bdbb1922b79a2ebb-la-matriz-consulting-color-oracle" target="_blank" rel="noopener">Open the Oracle</a>
        <a class="btn ghost" href="/consulting">Work with La Matriz</a>
      </div>
    </div>
  </section>

</main>

<footer>
  <div class="container footer-inner">
    <nav class="footer-nav" aria-label="Footer">
      <a href="/consulting">Consulting</a>
      <a href="/api">API</a>
      <a href="/thesis">Thesis</a>
      <a href="/oracle" aria-current="page">Oracle</a>
      <a href="/soulcoin">Soulcoin</a>
      <a href="/contact">Contact</a>
      <a href="/privacy">Privacy</a>
      <a href="/terms">Terms</a>
    </nav>
    <div class="footer-meta">© <span id="y"></span> La Matriz ·</div>
  </div>
</footer>

<script>
/* ---------- small helpers ---------- */
const clamp = (x, a, b) => Math.min(b, Math.max(a, x));
const rand = (seed => () => (seed = (seed*1664525 + 1013904223)>>>0) / 4294967296)(123456789);
function seededGen(seed){ let s = seed>>>0 || 1; return () => (s = (s*1664525 + 1013904223)>>>0)/4294967296; }

function rgbToHsv(r,g,b){
  r/=255; g/=255; b/=255;
  const mx=Math.max(r,g,b), mn=Math.min(r,g,b), d=mx-mn;
  let h=0;
  if(d!==0){
    if(mx===r) h=((g-b)/d)%6;
    else if(mx===g) h=(b-r)/d + 2;
    else h=(r-g)/d + 4;
    h*=60; if(h<0) h+=360;
  }
  const s = mx===0?0:d/mx;
  return [h,s,mx];
}
function hsvToRgb(h,s,v){
  h=(h%360+360)%360; const c=v*s, x=c*(1-Math.abs((h/60)%2-1)), m=v-c;
  let [r,g,b]=[0,0,0];
  if(0<=h && h<60) [r,g,b]=[c,x,0];
  else if(h<120) [r,g,b]=[x,c,0];
  else if(h<180) [r,g,b]=[0,c,x];
  else if(h<240) [r,g,b]=[0,x,c];
  else if(h<300) [r,g,b]=[x,0,c];
  else [r,g,b]=[c,0,x];
  return [Math.round((r+m)*255),Math.round((g+m)*255),Math.round((b+m)*255)];
}
function applyMass([r,g,b], mass){
  const [h,s,v]=rgbToHsv(r,g,b);
  const s2 = clamp(s*(1+0.75*mass),0,1);
  const v2 = clamp(v*(1+0.50*mass),0,1);
  return hsvToRgb(h,s2,v2);
}
function jaccard(a,b){ const A=new Set(a),B=new Set(b); const U=new Set([...A,...B]).size; const I=[...A].filter(x=>B.has(x)).length; return U?I/U:0; }
function hex(c){ return '#'+c.map(v=>v.toString(16).padStart(2,'0')).join(''); }

/* ---------- tiny in-browser dataset (13 colors) ---------- */
const SEM = [
  {name:'grey',   rgb:[170,170,170], sent:0.50, words:['precary','apposite']},
  {name:'pink',   rgb:[250,0,90], sent:0.62, words:['ambitious','exquisite']},
  {name:'gold',   rgb:[250,200,0],   sent:0.00, words:['technocracy','lotiform']},
  {name:'nude',   rgb:[250,180,120], sent:0.55, words:['unextenuable','deft']},
  {name:'orange', rgb:[250,110,0],  sent:0.95, words:['blurry','artesian']},
  {name:'white',  rgb:[255,255,255], sent:0.00, words:['analeptical']},
  {name:'blue',   rgb:[0,0,255],  sent:0.90, words:['photopathy','intelligent']},
  {name:'green',  rgb:[0,255,0],   sent:0.65, words:['bulbous','heroic']},
  {name:'red',    rgb:[255,0,0],   sent:0.45, words:['apophantic','candid']},
  {name:'black',  rgb:[0,0,0],    sent:0.00, words:['swabble']},
  {name:'brown',  rgb:[180,50,0],   sent:0.44, words:['notable','submissive']},
  {name:'yellow', rgb:[255,255,0],  sent:0.50, words:['authority']},
  {name:'purple', rgb:[180,50,255], sent:0.68, words:['brave','imaginative']},
];
// normalized sentiment for similarity
const maxAbs = Math.max(...SEM.map(s=>Math.abs(s.sent)));
SEM.forEach(s=>s.sentN = maxAbs ? (s.sent/maxAbs) : 0);

/* ---------- similarity + next-state (magnetism) ---------- */
function similarity(i,j,alpha=0.6){
  const ds = Math.abs(SEM[i].sentN - SEM[j].sentN);
  const sentSim = 1 - ds;                    // [0..1]
  const wordSim = jaccard(SEM[i].words, SEM[j].words);
  return alpha*sentSim + (1-alpha)*wordSim;  // [0..1]
}
function neutralIdx(){
  const set = new Set(['grey','gray','white','nude','beige']);
  let idx = SEM.map((c,i)=>set.has(c.name)?i:-1).filter(i=>i>=0);
  if(!idx.length){
    const order = SEM.map((c,i)=>[i,Math.abs(c.sentN)]).sort((a,b)=>a[1]-b[1]).map(x=>x[0]);
    idx = order.slice(0,5);
  }
  return idx;
}
function chooseNext(cur, charge, rng){
  const sims = SEM.map((_,j)=> similarity(cur,j));
  const dist = sims.map(s=>1-Math.max(0,Math.min(1,s)));
  const attr = dist.map((d,k)=> k===cur ? 0 : charge/Math.max(d,1e-3));
  const wSum = attr.reduce((a,b)=>a+Math.max(0,b),0);
  if(wSum===0) return Math.floor(rng()*SEM.length);
  let r = rng()*wSum;
  for(let j=0;j<attr.length;j++){
    r -= Math.max(0,attr[j]);
    if(r<=0) return j;
  }
  return SEM.length-1;
}

/* ---------- generator ---------- */
function generate({length=11, seed=7, mass=0.15, voltage=0.2, charge=1.45, nullTime=0.65, startColor='' }={}){
  const rng = seededGen(seed);
  let start = SEM.findIndex(c=>c.name===String(startColor).trim().toLowerCase());
  if(start<0){
    // closest to neutral (= min |sentN|)
    start = SEM.map((c,i)=>[i,Math.abs(c.sentN)]).sort((a,b)=>a[1]-b[1])[0][0];
  }
  const neutrals = neutralIdx();
  const seq = [];
  let cur = start;

  for(let t=0;t<length;t++){
    const row = SEM[cur];
    const item = {
      t, name: row.name,
      base_rgb: row.rgb.slice(),
      rgb: applyMass(row.rgb, mass),
      sentiment: row.sent,
      words: row.words
    };
    seq.push(item);

    // Null time (rest)
    const pRest = nullTime * (1 - Math.abs(row.sentN));
    if(rng() < pRest){
      const ni = neutrals[Math.floor(rng()*neutrals.length)];
      const nrow = SEM[ni];
      seq.push({
        t: t+0.5, name: nrow.name,
        base_rgb: nrow.rgb.slice(),
        rgb: applyMass(nrow.rgb, mass*0.2),
        sentiment: nrow.sent,
        words: nrow.words,
        rest: true
      });
    }

    // magnetism step (voltage nudges charge)
    cur = chooseNext(cur, charge*(1+0.4*voltage), rng);
  }
  return seq;
}

/* ---------- UI wiring ---------- */
const el = id => document.getElementById(id);
const seqEl = el('sequence'), logEl = el('log');
const mass = el('mass'), voltage = el('voltage'), charge = el('charge'), nulltime = el('nulltime'),
      len = el('length'), seed = el('seed'), startColor = el('startColor');
const input = el('oracle-input');
const genBtn = el('gen'), clrBtn = el('clear'), exportBtn = el('exportJson');

function syncVals(){
  el('massVal').textContent = Number(mass.value).toFixed(2);
  el('voltageVal').textContent = Number(voltage.value).toFixed(2);
  el('chargeVal').textContent = Number(charge.value).toFixed(2);
  el('nullVal').textContent = Number(nulltime.value).toFixed(2);
  el('lenVal').textContent = String(len.value);
}
['input','change'].forEach(evt=>{
  [mass,voltage,charge,nulltime,len].forEach(c=>c.addEventListener(evt, syncVals));
});
syncVals();

let lastSeq = null;

function render(seq){
  lastSeq = seq;
  // grid size from sequence length
  const steps = seq.length;
  const cols = Math.max(11, steps);
  seqEl.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;
  seqEl.innerHTML = '';

  seq.forEach((s,i)=>{
    const cell = document.createElement('div');
    cell.style.height = '76px';
    cell.style.borderRadius = '10px';
    cell.style.border = '1px solid var(--border)';
    cell.style.background = hex(s.rgb);
    cell.title = `${i+1} — ${s.name}${s.rest?' (rest)':''} — RGB ${s.rgb.join(',')} — S ${s.sentiment.toFixed(2)}`;
    const cap = document.createElement('div');
    cap.textContent = `${i+1}`;
    cap.style.fontSize = '12px';
    cap.style.color = 'var(--text)';
    cap.style.textAlign = 'center';
    cap.style.marginTop = '6px';
    cap.style.textShadow = '0 1px 2px rgba(0,0,0,.35)';
    cell.appendChild(cap);
    seqEl.appendChild(cell);
  });

  logEl.textContent = seq.slice(0,20).map((s,i)=>
    `${String(i).padStart(2,'0')} — ${s.name}${s.rest?' (rest)':''} — ${hex(s.rgb)}`).join('\n');
}

function run(){
  const seedFromText = (txt)=>{
    let h = 2166136261>>>0;
    for(let i=0;i<txt.length;i++){ h ^= txt.charCodeAt(i); h = Math.imul(h, 16777619); }
    return h>>>0;
  };
  const seedVal = String(seed.value||'').trim().length ? Number(seed.value) : seedFromText(input.value||'');
  const seq = generate({
    length: Number(len.value),
    seed: seedVal,
    mass: Number(mass.value),
    voltage: Number(voltage.value),
    charge: Number(charge.value),
    nullTime: Number(nulltime.value),
    startColor: startColor.value || ''
  });
  render(seq);
}
genBtn?.addEventListener('click', run);
input?.addEventListener('keydown', e=>{ if(e.key==='Enter') run(); });
clrBtn?.addEventListener('click', ()=>{ seqEl.innerHTML=''; logEl.textContent=''; input.value=''; lastSeq=null; });

exportBtn?.addEventListener('click', ()=>{
  if(!lastSeq){ logEl.textContent = 'Generate a sequence first.'; return; }
  const payload = {version:1, engine:'magnetism-to-color(js)', sequence:lastSeq};
  const s = JSON.stringify(payload, null, 2);
  // copy to clipboard
  navigator.clipboard?.writeText(s).catch(()=>{});
  // also download file
  const blob = new Blob([s], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'lamatriz_sequence.json';
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
  logEl.textContent = 'Exported JSON (copied to clipboard + downloaded).';
});

/* keep your “Copy Colab engine” button behavior intact */
</script>



</body>
</html>
